<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="../css/style.css">
   <title>Document</title>
</head>

<body>
   <h1>
      Задача 3. Створити клас Нагадувач. 
      Кожні вказані кількості секунд (використати setInterval) програма нагадує про якусь подію 
      (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було. 
      Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. 
      Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.
      context
 
   </h1>

   <script>
     
     class Reminder{
      static #context

      constructor(interval, message){

         if(Reminder.#context)
         return Reminder.#context

         this.interval = interval
         this.message = message
         this.counter = 0

         Reminder.#context = this
      }

      run(){
         this.interval = setInterval(() => {
            this.counter++
            document.write(`${this.counter}) ${this.message}<br>`)
         }, this.interval);
      }

      changeMessage(message){
         this.message = message
      }

      stopInterval(){
         clearInterval(this.interval)
      }
     }

     let reminder = new Reminder(2000, 'Hello')
     reminder.run()


     setTimeout(() => {
        reminder.changeMessage('Bye Bye')
     }, 10000);

     setTimeout(() => {
        reminder.stopInterval()
     }, 20000);

   </script>

</body>

</html>